Task : 

Lakukan pengecekan juga jika pm2 sudah running atau belum? jika belum jalankan, dan jika sudah cukup restart pada saat update-prod, sama juga untuk service backend

dan juga ubah agar menggunakan service ini

/etc/systemd/system $ sudo cat NewContainmentWeb.service
[Unit]
Description=Containment service
After=network.target
StartLimitIntervalSec=0
[Service]
Type=simple
Restart=always
RestartSec=1
ExecStart=/home/containment/.dotnet/dotnet /home/containment/NewContainment/Backend/publish/Backend.dll
WorkingDirectory=/home/containment/NewContainment/Backend/publish

[Install]
WantedBy=multi-user.target

dan error backend service karena

 find / -name "dotnet" 2>/dev/null
/usr/local/bin/dotnet

~/NewContainment $ sudo systemctl status NewContainmentWeb.service
● NewContainmentWeb.service - Containment service
     Loaded: loaded (/etc/systemd/system/NewContainmentWeb.service; enabled; vendor preset: enabled)
     Active: activating (auto-restart) (Result: exit-code) since Fri 2025-09-12 09:24:12 WIB; 949ms ago
    Process: 10318 ExecStart=/home/containment/.dotnet/dotnet /home/containment/NewContainment/Backend/publish/Backend.dll (code=exited, status=203>
   Main PID: 10318 (code=exited, status=203/EXEC)
        CPU: 3ms
lines 1-6/6 (END)

 find / -name "dotnet" 2>/dev/null
/usr/local/bin/dotnet
^C
containment@containment:~ $ dotnet --version
-bash: dotnet: command not found
containment@containment:~ $ sudo systemctl ^C
containment@containment:~ $ /usr/local/bin/dotnet --version
-bash: /usr/local/bin/dotnet: Permission denied
containment@containment:~ $ sudo /usr/local/bin/dotnet --version
9.0.305

dan juga gunakan reverse proxy server untuk ke port 80

sudo ./update-prod.sh
[2025-09-12 11:12:39] === NewContainment Production Update Script ===
[2025-09-12 11:12:39] Project Root: /home/containment/NewContainment
[2025-09-12 11:12:39] Current User: root

[2025-09-12 11:12:39] === Verifying Environment ===
[SUCCESS] Environment verification passed (some optional dependencies may be missing)
[2025-09-12 11:12:39] === Creating Backup ===
[2025-09-12 11:12:39] Backing up current backend...
[2025-09-12 11:12:40] Backing up current frontend...
[2025-09-12 11:12:45] Backup created at: /tmp/newcontainment-backup-20250912-111239
To restore if needed:
  Backend: cp -r /tmp/newcontainment-backup-20250912-111239/backend-publish /home/containment/NewContainment/Backend/publish
  Frontend: cp -r /tmp/newcontainment-backup-20250912-111239/frontend-build /home/containment/NewContainment/Frontend/.next
[2025-09-12 11:12:45] === Pulling Latest Changes ===
[2025-09-12 11:12:45] === Handling Git Conflicts ===
[2025-09-12 11:12:46] Backing up modified deploy.sh...
[2025-09-12 11:12:46] Backup saved as deploy.sh.local.backup
[WARNING] Uncommitted changes detected:
 M Backend/obj/Backend.csproj.nuget.dgspec.json
 M Backend/obj/Backend.csproj.nuget.g.props
 M Backend/obj/Backend.csproj.nuget.g.targets
 M Backend/obj/Release/net9.0/Backend.assets.cache
 M Backend/obj/Release/net9.0/Backend.csproj.FileListAbsolute.txt
 M Backend/obj/project.assets.json
 M Backend/obj/project.nuget.cache
 M Frontend/.env.production
 M deploy.sh
 M update-prod.sh
?? Backend/app.db.backup.20250912_105708
?? Backend/publish/
?? deploy.sh.local.backup
[2025-09-12 11:12:46] Stashing local changes and forcing upstream merge...
Saved working directory and index state On main: Auto-stash production local changes Fri 12 Sep 2025 11:12:46 AM WIB
HEAD is now at 9c5e432 FIX : MQTT Config for Hostname
[2025-09-12 11:12:47] Fetching from origin...
From https://github.com/AlfiMaulanaA/NewContainment
 * branch            main       -> FETCH_HEAD
[2025-09-12 11:12:48] Already up to date
[2025-09-12 11:12:48] === Updating Backend ===
[SUCCESS] .NET 9.0.305 is available
[2025-09-12 11:12:54] Stopping backend service...
[2025-09-12 11:12:55] === Handling Database Updates ===
[2025-09-12 11:12:55] Backing up database to app.db.backup.20250912_111255...
[2025-09-12 11:12:55] No database changes detected
[2025-09-12 11:12:55] Fixing ownership issues...
[2025-09-12 11:12:56] Cleaning previous builds...
[2025-09-12 11:12:56] Building for architecture: linux-arm64
[2025-09-12 11:12:56] === Fixing NuGet Configuration for Linux ===
[2025-09-12 11:12:56] Clearing NuGet caches...
Clearing NuGet global packages folder: /root/.nuget/packages/
Local resources cleared.
Clearing NuGet Temp cache: /tmp/NuGetScratchroot
Local resources cleared.
Clearing NuGet plugins cache: /root/.local/share/NuGet/plugin-cache
Local resources cleared.
[2025-09-12 11:13:01] Setting Linux NuGet environment...
[SUCCESS] NuGet Linux configuration applied
[2025-09-12 11:13:01] Restoring packages with Linux configuration...
Restore complete (31.1s)

Build succeeded in 31.8s
[2025-09-12 11:13:34] Building and publishing backend...

Build succeeded in 3.1s
  Backend failed with 1 error(s) (0.7s)
    /root/.dotnet/sdk/9.0.305/Sdks/Microsoft.NET.Sdk/targets/Microsoft.PackageDependencyResolution.targets(266,5): error NETSDK1047: Assets file '/home/containment/NewContainment/Backend/obj/project.assets.json' doesn't have a target for 'net9.0/linux-arm64'. Ensure that restore has run and that you have included 'net9.0' in the TargetFrameworks for your project. You may also need to include 'linux-arm64' in your project's RuntimeIdentifiers.
  NewContainment failed with 1 warning(s) (0.1s)
    /root/.dotnet/sdk/9.0.305/Current/SolutionFile/ImportAfter/Microsoft.NET.Sdk.Solution.targets(36,5): warning NETSDK1194: The "--output" option isn't supported when building a solution. Specifying a solution-level output path results in all projects copying outputs to the same directory, which can lead to inconsistent builds.

Build failed with 1 error(s) and 1 warning(s) in 3.1s
[ERROR] Backend publish failed
[WARNING] Backend update failed - continuing with frontend if possible
[2025-09-12 11:13:43] === Updating Frontend ===
[SUCCESS] Node.js v22.19.0 and npm 10.9.3 are available
[2025-09-12 11:13:44] Stopping frontend PM2 process...
[PM2] Applying action stopProcessId on app [newcontainment-frontend](ids: [ 0 ])
[PM2] [newcontainment-frontend](0) ✓
┌────┬────────────────────────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name                       │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
├────┼────────────────────────────┼─────────────┼─────────┼─────────┼──────────┼────────┼──────┼───────────┼──────────┼──────────┼──────────┼──────────┤
│ 0  │ newcontainment-frontend    │ default     │ N/A     │ cluster │ 0        │ 0      │ 2    │ stopped   │ 0%       │ 0b       │ root     │ disabled │
└────┴────────────────────────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
[2025-09-12 11:13:49] No package.json changes detected
[2025-09-12 11:13:49] Building frontend...

> iot-containment-monitoring-system@0.1.0 build
> cross-env NODE_ENV=production next build

   ▲ Next.js 14.0.0
   - Environments: .env.production, .env

 ⚠ Custom webpack configuration is detected. When using a custom webpack configuration, the Webpack build worker is disabled by default. To force enable it, set the "experimental.webpackBuildWorker" option to "true". Read more: https://nextjs.org/docs/messages/webpack-build-worker-opt-out
 ✓ Creating an optimized production build
 ✓ Compiled successfully
   Skipping validation of types
   Skipping linting
 ✓ Collecting page data
   Generating static pages (0/45)  [==  ]ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 35652 (/home/containment/NewContainment/Frontend/.next/server/app/access-control/attendance/page.js:1:2910)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)

Error occurred prerendering page "/access-control/attendance". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 35652 (/home/containment/NewContainment/Frontend/.next/server/app/access-control/attendance/page.js:1:2910)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 65475 (/home/containment/NewContainment/Frontend/.next/server/app/access-control/configuration/page.js:1:2933)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)

Error occurred prerendering page "/access-control/configuration". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 65475 (/home/containment/NewContainment/Frontend/.next/server/app/access-control/configuration/page.js:1:2933)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
   Generating static pages (5/45)  [=== ]
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 55425 (/home/containment/NewContainment/Frontend/.next/server/app/access-control/user/page.js:1:2872)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)

Error occurred prerendering page "/access-control/user". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 55425 (/home/containment/NewContainment/Frontend/.next/server/app/access-control/user/page.js:1:2872)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 9010 (/home/containment/NewContainment/Frontend/.next/server/app/access-control/device/page.js:1:3272)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)

Error occurred prerendering page "/access-control/device". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 9010 (/home/containment/NewContainment/Frontend/.next/server/app/access-control/device/page.js:1:3272)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
   Generating static pages (6/45)  [ ===]
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 73818 (/home/containment/NewContainment/Frontend/.next/server/app/access-control/page.js:1:2828)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)

Error occurred prerendering page "/access-control". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 73818 (/home/containment/NewContainment/Frontend/.next/server/app/access-control/page.js:1:2828)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
   Generating static pages (12/45) [   =]
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 31976 (/home/containment/NewContainment/Frontend/.next/server/app/configuration/controller/page.js:1:3166)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)

Error occurred prerendering page "/configuration/controller". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 31976 (/home/containment/NewContainment/Frontend/.next/server/app/configuration/controller/page.js:1:3166)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
   Generating static pages (15/45) [    ]
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 9858 (/home/containment/NewContainment/Frontend/.next/server/chunks/9858.js:1:127)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 74559 (/home/containment/NewContainment/Frontend/.next/server/app/control/containment/page.js:1:3122)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)

Error occurred prerendering page "/control/containment". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 9858 (/home/containment/NewContainment/Frontend/.next/server/chunks/9858.js:1:127)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 74559 (/home/containment/NewContainment/Frontend/.next/server/app/control/containment/page.js:1:3122)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
   Generating static pages (18/45) [   =]
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 33075 (/home/containment/NewContainment/Frontend/.next/server/app/dashboard-overview/page.js:1:13079)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
    at JSON.parse (<anonymous>)
    at L (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:5770)

Error occurred prerendering page "/dashboard-overview". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 33075 (/home/containment/NewContainment/Frontend/.next/server/app/dashboard-overview/page.js:1:13079)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
    at JSON.parse (<anonymous>)
   Generating static pages (33/45) [==  ]
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 32679 (/home/containment/NewContainment/Frontend/.next/server/app/network/protocol/snmp/page.js:1:3089)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
    at JSON.parse (<anonymous>)
    at L (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:5770)

Error occurred prerendering page "/network/protocol/snmp". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 32679 (/home/containment/NewContainment/Frontend/.next/server/app/network/protocol/snmp/page.js:1:3089)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
    at JSON.parse (<anonymous>)
    at L (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:5770)
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 82989 (/home/containment/NewContainment/Frontend/.next/server/app/monitoring/sensors/page.js:1:4464)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
    at JSON.parse (<anonymous>)
    at L (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:5770)

Error occurred prerendering page "/monitoring/sensors". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 82989 (/home/containment/NewContainment/Frontend/.next/server/app/monitoring/sensors/page.js:1:4464)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
    at JSON.parse (<anonymous>)
    at L (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:5770)
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 71676 (/home/containment/NewContainment/Frontend/.next/server/app/network/protocol/modbus/page.js:1:3062)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
    at JSON.parse (<anonymous>)
    at L (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:5770)

Error occurred prerendering page "/network/protocol/modbus". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 71676 (/home/containment/NewContainment/Frontend/.next/server/app/network/protocol/modbus/page.js:1:3062)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
    at JSON.parse (<anonymous>)
   Generating static pages (36/45) [=   ]
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 61019 (/home/containment/NewContainment/Frontend/.next/server/app/network/wifi/page.js:1:3018)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
    at JSON.parse (<anonymous>)
    at L (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:5770)

Error occurred prerendering page "/network/wifi". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 61019 (/home/containment/NewContainment/Frontend/.next/server/app/network/wifi/page.js:1:3018)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)
    at JSON.parse (<anonymous>)
   Generating static pages (41/45) [=   ]
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 58826 (/home/containment/NewContainment/Frontend/.next/server/app/test/page.js:1:2767)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
    at W._fromJSON (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8902)

Error occurred prerendering page "/test". Read more: https://nextjs.org/docs/messages/prerender-error
ReferenceError: window is not defined
    at getEnvConfig (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:193)
    at 70 (/home/containment/NewContainment/Frontend/.next/server/chunks/51.js:1:425)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 27245 (/home/containment/NewContainment/Frontend/.next/server/chunks/7245.js:1:121)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at 58826 (/home/containment/NewContainment/Frontend/.next/server/app/test/page.js:1:2767)
    at __webpack_require__ (/home/containment/NewContainment/Frontend/.next/server/webpack-runtime.js:1:146)
    at F (/home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:6049)
    at /home/containment/NewContainment/Frontend/node_modules/next/dist/compiled/next-server/app-page.runtime.prod.js:36:8464
 ✓ Generating static pages (45/45)

> Export encountered errors on following paths:
        /access-control/attendance/page: /access-control/attendance
        /access-control/configuration/page: /access-control/configuration
        /access-control/device/page: /access-control/device
        /access-control/page: /access-control
        /access-control/user/page: /access-control/user
        /configuration/controller/page: /configuration/controller
        /control/containment/page: /control/containment
        /dashboard-overview/page: /dashboard-overview
        /monitoring/sensors/page: /monitoring/sensors
        /network/protocol/modbus/page: /network/protocol/modbus
        /network/protocol/snmp/page: /network/protocol/snmp
        /network/wifi/page: /network/wifi
        /test/page: /test
[WARNING] Frontend build failed
[WARNING] Frontend update failed - continuing with backend if updated
[ERROR] Both backend and frontend updates failed
[ERROR] Please fix the issues and try again
containment@containment:~/NewContainment $

apa karena baris ini ? 
  const host = process.env.NEXT_PUBLIC_MQTT_HOST || window.location.hostname; pada halaman /lib/mqtt.ts


modifikasi juga pada mqtt.ts jika development bisa atur mqttConfig di /mqtt ke .env atau dari databasae, tapi jika production bisa atur dari window.location.hostname atau database
